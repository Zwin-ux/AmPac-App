{"numFailedTestSuites":1,"numFailedTests":2,"numPassedTestSuites":0,"numPassedTests":3,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":5,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1766166027510,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["graphCalendarService","checkConnectionStatus"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"graphCalendarService checkConnectionStatus should return false if no token in storage","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766166031061,"status":"passed","title":"should return false if no token in storage"},{"ancestorTitles":["graphCalendarService","checkConnectionStatus"],"duration":49,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\src\\services\\microsoftGraph.test.ts:26:28)\n    at Generator.next (<anonymous>)\n    at asyncGeneratorStep (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js:3:17)\n    at asyncGeneratorStep (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js:17:9)"],"fullName":"graphCalendarService checkConnectionStatus should return true if token is valid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766166031067,"status":"failed","title":"should return true if token is valid"},{"ancestorTitles":["graphCalendarService","checkConnectionStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"graphCalendarService checkConnectionStatus should return true if token is expired but has refresh token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766166031127,"status":"passed","title":"should return true if token is expired but has refresh token"},{"ancestorTitles":["graphCalendarService","getUserProfile"],"duration":38,"failing":false,"failureDetails":[{"matcherResult":{"actual":null,"expected":{"mail":"test@test.com"},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m{\"mail\": \"test@test.com\"}\u001b[39m\nReceived: \u001b[31mnull\u001b[39m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m{\"mail\": \"test@test.com\"}\u001b[39m\nReceived: \u001b[31mnull\u001b[39m\n    at Object.toEqual (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\src\\services\\microsoftGraph.test.ts:54:29)\n    at Generator.next (<anonymous>)\n    at asyncGeneratorStep (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js:3:17)\n    at asyncGeneratorStep (C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js:17:9)"],"fullName":"graphCalendarService getUserProfile should fetch profile if token exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766166031129,"status":"failed","title":"should fetch profile if token exists"},{"ancestorTitles":["graphCalendarService","getUserProfile"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"graphCalendarService getUserProfile should return null if fetch fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766166031168,"status":"passed","title":"should return null if fetch fails"}],"endTime":1766166031192,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mgraphCalendarService › checkConnectionStatus › should return true if token is valid\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 24 |\u001b[39m             \u001b[36mconst\u001b[39m status \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m graphCalendarService\u001b[33m.\u001b[39mcheckConnectionStatus()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 25 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m'Test status check:'\u001b[39m\u001b[33m,\u001b[39m status)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 26 |\u001b[39m             expect(status)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m         it(\u001b[32m'should return true if token is expired but has refresh token'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/services/microsoftGraph.test.ts\u001b[39m\u001b[0m\u001b[2m:26:28)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat asyncGeneratorStep (\u001b[22m\u001b[2mnode_modules/@babel/runtime/helpers/asyncToGenerator.js\u001b[2m:3:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat asyncGeneratorStep (\u001b[22m\u001b[2mnode_modules/@babel/runtime/helpers/asyncToGenerator.js\u001b[2m:17:9)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mgraphCalendarService › getUserProfile › should fetch profile if token exists\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    Expected: \u001b[32m{\"mail\": \"test@test.com\"}\u001b[39m\n    Received: \u001b[31mnull\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 52 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 53 |\u001b[39m             \u001b[36mconst\u001b[39m profile \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m graphCalendarService\u001b[33m.\u001b[39mgetUserProfile()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 54 |\u001b[39m             expect(profile)\u001b[33m.\u001b[39mtoEqual({ mail\u001b[33m:\u001b[39m \u001b[32m'test@test.com'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 55 |\u001b[39m             expect(global\u001b[33m.\u001b[39mfetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m 56 |\u001b[39m                 expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/me'\u001b[39m)\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 57 |\u001b[39m                 expect\u001b[33m.\u001b[39manything()\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/services/microsoftGraph.test.ts\u001b[39m\u001b[0m\u001b[2m:54:29)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat asyncGeneratorStep (\u001b[22m\u001b[2mnode_modules/@babel/runtime/helpers/asyncToGenerator.js\u001b[2m:3:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat asyncGeneratorStep (\u001b[22m\u001b[2mnode_modules/@babel/runtime/helpers/asyncToGenerator.js\u001b[2m:17:9)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\MazenZwin\\Downloads\\AmPac-App-main\\AmPac-App-main\\apps\\mobile\\src\\services\\microsoftGraph.test.ts","startTime":1766166029885,"status":"failed","summary":""}],"wasInterrupted":false}
